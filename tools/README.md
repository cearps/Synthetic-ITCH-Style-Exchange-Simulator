# Visualization Tools

This directory contains utility scripts for visualizing simulation data.

## Price Data Visualization

The `visualize_price_data.py` script creates comprehensive visualizations of price data from CSV files generated by the simulator.

### Prerequisites

It's recommended to use a Python virtual environment to isolate dependencies.

#### Setting up a Virtual Environment

**Option 1: Automated Setup (Recommended)**

Use the provided setup scripts:

```bash
# On Windows (PowerShell)
.\tools\setup_venv.ps1

# On Linux/Mac
chmod +x tools/setup_venv.sh
./tools/setup_venv.sh
```

**Option 2: Manual Setup**

1. **Create a virtual environment in the tools folder:**

   ```bash
   # On Windows
   python -m venv tools/venv

   # On Linux/Mac
   python3 -m venv tools/venv
   ```

2. **Activate the virtual environment:**

   ```bash
   # On Windows (PowerShell)
   tools\venv\Scripts\Activate.ps1

   # On Windows (Command Prompt)
   tools\venv\Scripts\activate.bat

   # On Linux/Mac
   source tools/venv/bin/activate
   ```

3. **Install required Python packages:**

   ```bash
   pip install -r tools/requirements.txt
   ```

   Or manually:

   ```bash
   pip install pandas matplotlib
   ```

4. **Deactivate when done:**

   ```bash
   deactivate
   ```

### Usage

**Make sure your virtual environment is activated** (see Prerequisites above), then:

```bash
# Use the most recent CSV file in data/
python tools/visualize_price_data.py

# Or specify a specific CSV file
python tools/visualize_price_data.py data/price_data_seed_99999.csv
```

**Note:** If you're using a virtual environment, you can use `python` directly. If not, you may need to use `python3` on Linux/Mac.

### Output

The script generates two PNG files in the `data/` directory:

1. **`price_visualization.png`**: Comprehensive dashboard with 6 charts:

   - Price over time (main chart with statistics)
   - Price distribution histogram
   - Trading volume over time (aggregated)
   - Price change distribution
   - Volume-weighted average price (VWAP) vs trade prices
   - Summary statistics overlay

2. **`price_simple.png`**: Simple price chart with filled area

The script also prints detailed summary statistics to the console, including:

- Total trades and time range
- Price statistics (min, max, average, range, std dev)
- Volume statistics
- Price change statistics

### Example Output

```
Using latest CSV file: data/price_data_seed_99999.csv
Loading price data from: data/price_data_seed_99999.csv
Loaded 3,425 trades
Visualization saved to: data/price_visualization.png
Simple chart saved to: data/price_simple.png

======================================================================
PRICE DATA SUMMARY
======================================================================
Total Trades: 3,425
Time Range: 2024-01-01 00:00:00.124428588 to 2024-01-01 00:00:05.123456789
Duration: 0 days 00:00:04.999028201

Price Statistics:
  Min: 9804
  Max: 10157
  Average: 9955.89
  Range: 353 ticks
  Std Dev: 45.23

Volume Statistics:
  Total Volume: 685,000
  Average Trade Size: 200.00
  Max Trade Size: 1000

Price Change Statistics:
  Average Change: -0.04 ticks
  Std Dev: 2.15 ticks
  Max Up Move: 15 ticks
  Max Down Move: -12 ticks
======================================================================
```
